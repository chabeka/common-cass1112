package fr.urssaf.image.sae.ihm.web.exploit.utils;


import fr.urssaf.image.sae.ihm.web.exploit.modele.ConfigurationEnvironnement;
import fr.urssaf.image.sae.ihm.web.exploit.modele.ConfigurationEnvironnementFrontal;
import fr.urssaf.image.sae.ihm.web.exploit.modele.ConfigurationsEnvironnement;
import fr.urssaf.image.sae.ihm.web.exploit.modele.ConfigurationsEnvironnementFrontal;
import fr.urssaf.image.sae.ihm.web.exploit.modele.InstanceGeds;

public class UtilsController {

	/**
    * Retourne la liste de l'environnement frontal en fonction du nom de
    * l'environnement GNT/GNS fournit en parametre
    * @param nomConfiguration
    * @return
    */
	public static String getListFrontalByEnvName(ConfigurationsEnvironnement configs, 
			ConfigurationsEnvironnementFrontal frontaux,String nomConfiguration) {
		
		// get config by name
	    ConfigurationEnvironnement configuration = configs.getConfiguration(nomConfiguration);
		String nomFrontal = "";
		if (configuration != null && configuration.getInstanceGed() != null) {
	    	  String idConfigEnv = configuration.getInstanceGed();
	    	  for(ConfigurationEnvironnementFrontal frl : frontaux.getConfigurationsFrontaux()) {
	    		  InstanceGeds identifiantPFGed = frl.getInstanceGeds();
	    		  if(identifiantPFGed != null && identifiantPFGed.getListInstanceGed() != null) {
					for(String idConfFrontal : identifiantPFGed.getListInstanceGed()) {
						if(idConfigEnv.equals(idConfFrontal)) {
							nomFrontal = frl.getNom();
							break;
						}
					}
				}
	    	  }
	      }
		return nomFrontal;
	}
}
