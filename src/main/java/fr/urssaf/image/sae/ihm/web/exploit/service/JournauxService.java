package fr.urssaf.image.sae.ihm.web.exploit.service;

import java.util.Date;
import java.util.List;
import java.util.UUID;

import fr.urssaf.image.commons.dfce.model.DFCEConnection;
import fr.urssaf.image.sae.ihm.web.exploit.modele.ChainageDisplay;
import fr.urssaf.image.sae.ihm.web.exploit.modele.JournalDisplay;
import fr.urssaf.image.sae.trace.model.JournalType;

/**
 * Service permettant de réaliser des opérations sur les journaux (historique
 * des évenements ou du cycle de vie des archives)
 * 
 * 
 */
public interface JournauxService {

   /**
    * Renvoie la liste des journaux système DFCE situés entre la date de début
    * et la date de fin passés en paramètre
    * 
    * @param dateDebut
    *           Date de début de l'intervalle
    * @param dateFin
    *           Date de fin de l'intervalle
    * @param dfceConnection
    *           Paramètres de connexion à DFCE
    * @return La liste des journaux
    */
   List<JournalDisplay> rechercherJournauxEvenementDfce(Date dateDebut,
         Date dateFin, DFCEConnection dfceConnection);

   /**
    * Renvoie la liste des journaux du cycle de vie situés entre la date de
    * début et la date de fin passés en paramètre
    * 
    * @param dateDebut
    *           Date de début de l'intervalle
    * @param dateFin
    *           Date de fin de l'intervalle
    * @param dfceConnection
    *           Paramètres de connexion à DFCE
    * @return La liste des journaux
    */
   List<JournalDisplay> rechercherJournauxCycleVie(Date dateDebut,
         Date dateFin, DFCEConnection dfceConnection);

   /**
    * Renvoie la liste des journaux SAE situés entre la date de début et la date
    * de fin passés en paramètre
    * 
    * @param dateDebut
    *           Date de début de l'intervalle
    * @param dateFin
    *           Date de fin de l'intervalle
    * @param dfceConnection
    *           Paramètres de connexion à DFCE
    * @param nomBase
    *           Nom de la base du SAE
    * @return La liste des journaux
    */
   List<JournalDisplay> rechercherJournauxEvenementSae(Date dateDebut,
         Date dateFin, DFCEConnection dfceConnection, String nomBase);

   /**
    * Renvoie la liste des journaux du cycle de vie des archives pour le
    * document dont l'identifiant unique est passé en paramètre
    * 
    * @param uuidDoc
    *           Identifiant unique du document
    * @param dfceConnection
    *           Paramètres de connexion à DFCE
    * @return La liste des journaux
    */
   List<JournalDisplay> rechercherJournauxDocument(UUID uuidDoc,
         DFCEConnection dfceConnection);

   /**
    * Vérifie le chaînage des journaux situés entre la date de début et la date
    * de fin passés en paramètre
    * 
    * @param dateDebut
    *           Date de début de l'intervalle
    * @param dateFin
    *           Date de fin de l'intervalle
    * @param journalType
    *           Type du journal
    * @param dfceConnection
    *           Paramètres de connexion à DFCE
    * @return La liste des chainage
    */
   List<ChainageDisplay> verifierChainage(Date dateDebut, Date dateFin,
         JournalType journalType, DFCEConnection dfceConnection);

   /**
    * Récupération du contenu du journal dont l'identifiant est passé en
    * paramètre
    * 
    * @param uuidJournal
    *           Identifiant unique du journal
    * @param dfceConnection
    *           Paramètres de connexion à DFCE
    * @return Le contenu du journal
    */
   byte[] recupererContenuJournalDfce(UUID uuidJournal,
         DFCEConnection dfceConnection);

   /**
    * Récupération du contenu du journal dont l'identifiant est passé en
    * paramètre
    * 
    * @param uuidJournal
    *           Identifiant unique du journal
    * @param dfceConnection
    *           Paramètres de connexion à DFCE
    * @param nomBase
    *           Nom de la base SAE
    * @return Le contenu du journal
    */
   byte[] recupererContenuJournalSae(UUID uuidJournal,
         DFCEConnection dfceConnection, String nomBase);
   
   /**
    * Récupère le nom du journal dont l'id est passé en paramètre
    * 
    * @param uuidJournal
    *           Identifiant unique du journal
    * @param dfceConnection
    *           Paramètres de connexion à DFCE
    * @return Nom du journal
    */
   String getNomJournalDfce(UUID uuidJournal, DFCEConnection dfceConnection);

}
