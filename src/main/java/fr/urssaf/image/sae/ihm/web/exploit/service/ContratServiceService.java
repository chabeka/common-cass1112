package fr.urssaf.image.sae.ihm.web.exploit.service;

import java.io.InputStream;
import java.util.List;

import fr.urssaf.image.sae.droit.model.SaeContratService;
import fr.urssaf.image.sae.ihm.web.exploit.droit.DroitType;
import fr.urssaf.image.sae.ihm.web.exploit.exception.ErreurTechniqueException;

/**
 * Classe de gestion des contrats de service
 * 
 * 
 */
public interface ContratServiceService {

   /**
    * Service de créations des droits dans Cassandra (PRMD et CS)
    * 
    * @param droitType
    *           Droit à créer
    * @return log de la création
    * @throws ErreurTechniqueException
    *            Exception levée si pb de mise à jour
    */
   List<String> creationDesDroits(DroitType droitType)
         throws ErreurTechniqueException;

   /**
    * Temporaire : doit être remplacé par une évol de sae-lotinstallmaj
    */
   void creationDesAu();

   /**
    * Chargement du fichier XML de paramétrage des droits à créer
    * 
    * @param file
    *           chemin du fichier à charger
    * @return Droit à créer
    */
   DroitType chargeFichierXml(String file);

   /**
    * Chargement du fichier XML de paramétrage des droits à créer
    * 
    * @param file
    *           fichier à charger
    * @return Droit à créer
    */
   DroitType chargeFichierXml(InputStream file);

   /**
    * Récupère la liste de tous les contrats de service
    * 
    * @param maxResult
    *           le nombre max de résultats à retourner
    * @return La liste des contrats de service
    * 
    */
   List<SaeContratService> findAllCs(int maxResult);

   /**
    * Récupère le contrat de service correspondant à l'indentifiant
    * 
    * @param idContrat
    *           l'identifiant du contrat de service
    * @return le contrat de service
    */
   SaeContratService findCs(String idContrat);

   /**
    * Récupère la liste de tous les codes clients
    * 
    * @param maxResult
    *           le nombre max de résultats à retourner
    * @return La liste des codes clients
    */
   List<String> findAllCodeClientCs(int maxResult);

}
