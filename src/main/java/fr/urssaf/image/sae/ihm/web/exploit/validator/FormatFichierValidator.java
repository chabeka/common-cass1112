package fr.urssaf.image.sae.ihm.web.exploit.validator;

import javax.validation.ConstraintValidator;
import javax.validation.ConstraintValidatorContext;

/**
 * Validator de bean {@link FormatFichier}.
 */
public class FormatFichierValidator  implements ConstraintValidator<FormatFichier, fr.urssaf.image.sae.format.referentiel.model.FormatFichier> {

   /**
    * Pattern de contr√¥le de l'extension
    */
   private final static String EXTENSION_PATTERN = "^([\\w\\,]+[\\w]+)*([\\*]+)*$";
   
   /**
    * {@inheritDoc}
    */
   @Override
   public void initialize(FormatFichier constraintAnnotation) {
      
   }

   /**
    * {@inheritDoc}
    */
   @Override
   public boolean isValid(
         final fr.urssaf.image.sae.format.referentiel.model.FormatFichier value,
         final ConstraintValidatorContext context) {
      
      return value != null ? value.getExtension() != null && value.getExtension().matches(EXTENSION_PATTERN) : true;
   }   
}
