package fr.urssaf.image.sae.admin.dfce.exploit.utils;

import java.io.File;

import org.apache.commons.io.FileUtils;

/**
 * Classe utilitaire sur les répertoires
 * 
 * 
 */
public final class RepertoryUtils {

   private RepertoryUtils() {

   }

   /**
    * Vérifie si on peut écrire dans un répertoire.<br>
    * 
    * @param filePath
    *           chemin absolu du répertoire
    * @return <code>true</code> si on a le droit d'écriture, <code>false</code>
    *         sinon
    */
   public static boolean isWrite(String filePath) {

      boolean dirPermission;

      File parentDir = new File(filePath);
      try {
         File tmpfile = File.createTempFile("extractDocuments", ".tmp",
               parentDir);
         if (tmpfile.isFile() && tmpfile.exists()) {
            dirPermission = true;
            FileUtils.deleteQuietly(tmpfile);

         } else {
            dirPermission = false;
         }
      } catch (Exception e) {
         dirPermission = false;
      }

      return dirPermission;

   }

}
