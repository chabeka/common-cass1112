<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:context="http://www.springframework.org/schema/context"
	xmlns:aop="http://www.springframework.org/schema/aop"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="
      http://www.springframework.org/schema/beans  
      http://www.springframework.org/schema/beans/spring-beans.xsd
      http://www.springframework.org/schema/context 
      http://www.springframework.org/schema/context/spring-context.xsd
      http://www.springframework.org/schema/aop 
      http://www.springframework.org/schema/aop/spring-aop.xsd">

	<!-- Enabling Aspect scaning -->
	<aop:aspectj-autoproxy />

	<!-- Chargement des fichiers properties -->
	<bean
		class="fr.urssaf.image.sae.commons.factory.PropertiesFactory"
		factory-method="load">
		<constructor-arg ref="saeConfigResource" />
	</bean>

	<!-- Gestion de message Ã  partir d'un fichier -->
	<bean id="messageSource_sae_lotservice"
		class="org.springframework.context.support.ResourceBundleMessageSource">
		<property name="basenames">
			<list>
				<value>maj_lotservice_messages</value>
			</list>
		</property>
	</bean>

	<bean id="configCassandra"
		class="fr.urssaf.image.sae.lotinstallmaj.modele.CassandraConfig">
		<property name="hosts" value="${cassandra.hosts}" />
		<property name="login" value="${cassandra.username}" />
		<property name="password" value="${cassandra.password}" />
		<property name="keyspaceName" value="${cassandra.keyspace}" />
		<property name="timeout" value="${cassandra.timeout}" />
	</bean>


	<!-- Importation des autres contextes -->
	<!-- <import resource="classpath*:/applicationContext-commons-cassandra.xml" 
		/> <import resource="classpath*:/applicationContext-commons-dfce-connection.xml" 
		/> -->

	<import
		resource="classpath*:/applicationContext-sae-dfce-admin-exploit.xml" />

	<import resource="classpath:/applicationContext-sae-rnd.xml" />
	
	<!--  <import resource="classpath:/applicationContext-sae-metadata.xml" /> -->
	
	<import resource="classpath:/applicationContext-sae-format.xml" />
	
	<import resource="classpath:/applicationContext-sae-igcmaj.xml" />

	<!-- Le componant-scan -->
	<context:component-scan
		base-package="fr.urssaf.image.sae.lotinstallmaj" />


</beans>