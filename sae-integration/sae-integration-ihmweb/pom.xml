<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">

   <modelVersion>4.0.0</modelVersion>

   <groupId>fr.urssaf.image</groupId>
   <artifactId>sae-integration-ihmweb</artifactId>
   <version>0.0.1-SNAPSHOT</version>

   <packaging>war</packaging>

   <name>sae-integration-ihmweb</name>

   <properties>

      <!-- Encodage de caractères -->
      <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>

      <!-- Version des librairies partagées -->
      <commons.cassandra>0.0.3-SNAPSHOT</commons.cassandra>

      <!-- Version des framework -->
      <spring.framework.version>3.0.5.RELEASE</spring.framework.version>
      <jsr303.api.version>1.0.0.GA</jsr303.api.version>
      <jsr303.impl.hibernate.version>4.0.2.GA</jsr303.impl.hibernate.version>
      <joda-time.version>1.6</joda-time.version>
      <joda-time.jsptags.version>1.1</joda-time.jsptags.version>
      <javax.servlet.version>2.5</javax.servlet.version>
      <jstl.version>1.2</jstl.version>
      <jackson-json.version>1.6.0</jackson-json.version>

      <org.slf4j.version>1.6.4</org.slf4j.version>

      <axis2.version>1.6.1</axis2.version>
      <junit.version>4.8.2</junit.version>

      <logback.version>1.0.0</logback.version>

      <apache.commons-configuration.version>1.6</apache.commons-configuration.version>
      <apache.commons-lang.version>2.6</apache.commons-lang.version>
      <apache.commons-codec.version>1.4</apache.commons-codec.version>
      <apache.commons-io.version>2.0.1</apache.commons-io.version>
      <apache.commons-collections.version>3.2.1</apache.commons-collections.version>

   </properties>


   <build>

      <finalName>sae-integration-ihmweb</finalName>

      <plugins>

         <!--
            On spécifie la version du JDK et l'encodage de caractères
            des sources
         -->
         <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-compiler-plugin</artifactId>
            <configuration>
               <source>1.6</source>
               <target>1.6</target>
               <encoding>${project.build.sourceEncoding}</encoding>
            </configuration>
         </plugin>

         <!--
            On spécifie l'encodage de caractères des ressources
         -->
         <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-resources-plugin</artifactId>
            <configuration>
               <encoding>${project.build.sourceEncoding}</encoding>
            </configuration>
         </plugin>

         <!-- Désactivation des tests unitaires -->
         <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-surefire-plugin</artifactId>
            <version>2.5</version>
            <configuration>
               <skipTests>true</skipTests>
            </configuration>
         </plugin>

      </plugins>

   </build>


   <profiles>
      <profile>
         <id>genererCodeClientSaeService</id>

         <build>
            <plugins>
               <plugin>
                  <groupId>org.apache.axis2</groupId>
                  <artifactId>axis2-wsdl2code-maven-plugin</artifactId>
                  <version>${axis2.version}</version>
                  <executions>
                     <execution>
                        <goals>
                           <goal>wsdl2code</goal>
                        </goals>
                        <configuration>
                           <wsdlFile>src/test/resources/SaeService_WSDL/SaeService.wsdl</wsdlFile>
                           <packageName>fr.urssaf.image.sae.integration.ihmweb.saeservice.modele</packageName>
                           <wsdlVersion>1.1</wsdlVersion>
                           <outputDirectory>src</outputDirectory>
                           <databindingName>adb</databindingName>
                           <targetSourceFolderLocation>main/java</targetSourceFolderLocation>
                           <skipBuildXML>true</skipBuildXML>
                           <overWrite>true</overWrite>
                        </configuration>
                     </execution>
                  </executions>
               </plugin>

               <plugin>
                  <groupId>com.google.code.maven-replacer-plugin</groupId>
                  <artifactId>maven-replacer-plugin</artifactId>
                  <version>1.3.6</version>

                  <executions>
                     <execution>
                        <phase>generate-sources</phase>
                        <goals>
                           <goal>replace</goal>
                        </goals>
                     </execution>
                  </executions>
                  <configuration>
                     <basedir>src/main/java</basedir>
                     <includes>
                        <include>fr/urssaf/image/sae/integration/ihmweb/saeservice/modele/*.java</include>
                     </includes>
                     <replacements>
                        <replacement>
                           <token>[ ]*public[ ]*class</token>
                           <valueFile>src/test/resources/suppress_warnings/add_suppress_warnings_class.txt</valueFile>
                        </replacement>
                        <replacement>
                           <token>[ ]*public[ ]*abstract[ ]*class</token>
                           <valueFile>src/test/resources/suppress_warnings/add_suppress_warnings_abstract_class.txt</valueFile>
                        </replacement>
                        <replacement>
                           <token>[ ]*public[ ]*enum</token>
                           <valueFile>src/test/resources/suppress_warnings/add_suppress_warnings_enum.txt</valueFile>
                        </replacement>
                     </replacements>
                  </configuration>
               </plugin>

            </plugins>
         </build>

      </profile>

      <profile>
         <id>genererCodeModeleListeCasTests</id>

         <build>
            <plugins>

               <plugin>
                  <groupId>com.sun.tools.xjc.maven2</groupId>
                  <artifactId>maven-jaxb-plugin</artifactId>
                  <executions>
                     <execution>
                        <goals>
                           <goal>generate</goal>
                        </goals>
                     </execution>
                  </executions>
                  <configuration>
                     <schemaDirectory>${basedir}/src/main/resources/ListeCasTests</schemaDirectory>
                     <generatePackage>fr.urssaf.image.sae.integration.ihmweb.modele.listetests</generatePackage>
                     <generateDirectory>${basedir}/src/main/java</generateDirectory>
                  </configuration>
               </plugin>

               <plugin>
                  <groupId>com.google.code.maven-replacer-plugin</groupId>
                  <artifactId>maven-replacer-plugin</artifactId>
                  <version>1.3.6</version>

                  <executions>
                     <execution>
                        <phase>generate-sources</phase>
                        <goals>
                           <goal>replace</goal>
                        </goals>
                     </execution>
                  </executions>
                  <configuration>
                     <basedir>src/main/java</basedir>
                     <includes>
                        <include>fr/urssaf/image/sae/integration/ihmweb/modele/listetests/*.java</include>
                     </includes>
                     <replacements>
                        <replacement>
                           <token>[ ]*public[ ]*class</token>
                           <valueFile>src/test/resources/suppress_warnings/add_suppress_warnings_class.txt</valueFile>
                        </replacement>
                        <replacement>
                           <token>[ ]*public[ ]*abstract[ ]*class</token>
                           <valueFile>src/test/resources/suppress_warnings/add_suppress_warnings_abstract_class.txt</valueFile>
                        </replacement>
                        <replacement>
                           <token>[ ]*public[ ]*enum</token>
                           <valueFile>src/test/resources/suppress_warnings/add_suppress_warnings_enum.txt</valueFile>
                        </replacement>
                     </replacements>
                  </configuration>
               </plugin>


            </plugins>
         </build>

      </profile>


      <profile>
         <id>genererCodeModeleSoapFaults</id>

         <build>
            <plugins>

               <plugin>
                  <groupId>com.sun.tools.xjc.maven2</groupId>
                  <artifactId>maven-jaxb-plugin</artifactId>
                  <executions>
                     <execution>
                        <goals>
                           <goal>generate</goal>
                        </goals>
                     </execution>
                  </executions>
                  <configuration>
                     <schemaDirectory>${basedir}/src/main/resources/SoapFaults</schemaDirectory>
                     <generatePackage>fr.urssaf.image.sae.integration.ihmweb.modele.soapfaults</generatePackage>
                     <generateDirectory>${basedir}/src/main/java</generateDirectory>
                  </configuration>
               </plugin>

               <plugin>
                  <groupId>com.google.code.maven-replacer-plugin</groupId>
                  <artifactId>maven-replacer-plugin</artifactId>
                  <version>1.3.6</version>

                  <executions>
                     <execution>
                        <phase>generate-sources</phase>
                        <goals>
                           <goal>replace</goal>
                        </goals>
                     </execution>
                  </executions>
                  <configuration>
                     <basedir>src/main/java</basedir>
                     <includes>
                        <include>fr/urssaf/image/sae/integration/ihmweb/modele/soapfaults/*.java</include>
                     </includes>
                     <replacements>
                        <replacement>
                           <token>[ ]*public[ ]*class</token>
                           <valueFile>src/test/resources/suppress_warnings/add_suppress_warnings_class.txt</valueFile>
                        </replacement>
                        <replacement>
                           <token>[ ]*public[ ]*abstract[ ]*class</token>
                           <valueFile>src/test/resources/suppress_warnings/add_suppress_warnings_abstract_class.txt</valueFile>
                        </replacement>
                        <replacement>
                           <token>[ ]*public[ ]*enum</token>
                           <valueFile>src/test/resources/suppress_warnings/add_suppress_warnings_enum.txt</valueFile>
                        </replacement>
                     </replacements>
                  </configuration>
               </plugin>


            </plugins>
         </build>

      </profile>


      <profile>
         <id>genererCodeModeleReferentielMetadonnee</id>

         <build>
            <plugins>

               <plugin>
                  <groupId>com.sun.tools.xjc.maven2</groupId>
                  <artifactId>maven-jaxb-plugin</artifactId>
                  <executions>
                     <execution>
                        <goals>
                           <goal>generate</goal>
                        </goals>
                     </execution>
                  </executions>
                  <configuration>
                     <schemaDirectory>${basedir}/src/main/resources/ReferentielMetadonnees</schemaDirectory>
                     <generatePackage>fr.urssaf.image.sae.integration.ihmweb.modele.refmeta</generatePackage>
                     <generateDirectory>${basedir}/src/main/java</generateDirectory>
                  </configuration>
               </plugin>

               <plugin>
                  <groupId>com.google.code.maven-replacer-plugin</groupId>
                  <artifactId>maven-replacer-plugin</artifactId>
                  <version>1.3.6</version>

                  <executions>
                     <execution>
                        <phase>generate-sources</phase>
                        <goals>
                           <goal>replace</goal>
                        </goals>
                     </execution>
                  </executions>
                  <configuration>
                     <basedir>src/main/java</basedir>
                     <includes>
                        <include>fr/urssaf/image/sae/integration/ihmweb/modele/refmeta/*.java</include>
                     </includes>
                     <replacements>
                        <replacement>
                           <token>[ ]*public[ ]*class</token>
                           <valueFile>src/test/resources/suppress_warnings/add_suppress_warnings_class.txt</valueFile>
                        </replacement>
                        <replacement>
                           <token>[ ]*public[ ]*abstract[ ]*class</token>
                           <valueFile>src/test/resources/suppress_warnings/add_suppress_warnings_abstract_class.txt</valueFile>
                        </replacement>
                        <replacement>
                           <token>[ ]*public[ ]*enum</token>
                           <valueFile>src/test/resources/suppress_warnings/add_suppress_warnings_enum.txt</valueFile>
                        </replacement>
                     </replacements>
                  </configuration>
               </plugin>


            </plugins>
         </build>

      </profile>


      <profile>
         <id>genererCodeModeleSommaireEtResultat</id>
         <build>
            <plugins>
               <plugin>
                  <groupId>com.sun.tools.xjc.maven2</groupId>
                  <artifactId>maven-jaxb-plugin</artifactId>
                  <version>1.1.1</version>
                  <executions>
                     <execution>
                        <goals>
                           <goal>generate</goal>
                        </goals>
                     </execution>
                  </executions>
                  <configuration>
                     <schemaDirectory>${basedir}/src/main/resources/xsd_som_res</schemaDirectory>
                     <generateDirectory>${basedir}/src/main/java</generateDirectory>
                     <includeSchemas>
                        <includeSchema>commun_sommaire_et_resultat.xsd</includeSchema>
                        <includeSchema>sommaire.xsd</includeSchema>
                        <includeSchema>resultats.xsd</includeSchema>
                     </includeSchemas>
                  </configuration>
               </plugin>

               <plugin>
                  <groupId>com.google.code.maven-replacer-plugin</groupId>
                  <artifactId>maven-replacer-plugin</artifactId>
                  <version>1.3.6</version>

                  <executions>
                     <execution>
                        <phase>generate-sources</phase>
                        <goals>
                           <goal>replace</goal>
                        </goals>
                     </execution>
                  </executions>
                  <configuration>
                     <basedir>src/main/java</basedir>
                     <includes>
                        <include>fr/urssaf/image/sae/integration/ihmweb/modele/somres/commun_sommaire_et_resultat/*.java</include>
                        <include>fr/urssaf/image/sae/integration/ihmweb/modele/somres/sommaire/*.java</include>
                        <include>fr/urssaf/image/sae/integration/ihmweb/modele/somres/resultats/*.java</include>
                     </includes>
                     <replacements>
                        <replacement>
                           <token>[ ]*public[ ]*class</token>
                           <valueFile>src/test/resources/suppress_warnings/add_suppress_warnings_class.txt</valueFile>
                        </replacement>
                        <replacement>
                           <token>[ ]*public[ ]*abstract[ ]*class</token>
                           <valueFile>src/test/resources/suppress_warnings/add_suppress_warnings_abstract_class.txt</valueFile>
                        </replacement>
                        <replacement>
                           <token>[ ]*public[ ]*enum</token>
                           <valueFile>src/test/resources/suppress_warnings/add_suppress_warnings_enum.txt</valueFile>
                        </replacement>
                     </replacements>
                  </configuration>
               </plugin>

            </plugins>
         </build>
      </profile>

   </profiles>





   <dependencies>
   
      <!-- Librairies mutualisées -->
      <dependency>
         <groupId>fr.urssaf.image.commons</groupId>
         <artifactId>commons-cassandra</artifactId>
         <version>${commons.cassandra}</version>
         <exclusions>
            <exclusion>
               <groupId>org.mortbay.jetty</groupId>
               <artifactId>servlet-api</artifactId>
            </exclusion>
            <exclusion>
               <groupId>javax.servlet</groupId>
               <artifactId>servlet-api</artifactId>
            </exclusion>
         </exclusions>
      </dependency>
   

      <!-- JUnit -->
      <dependency>
         <groupId>junit</groupId>
         <artifactId>junit</artifactId>
         <version>${junit.version}</version>
         <scope>test</scope>
      </dependency>

      <dependency>
         <groupId>com.thoughtworks.xstream</groupId>
         <artifactId>xstream</artifactId>
         <version>1.3.1</version>
      </dependency>
      
      
      <!--  AXIS 2 -->
      
      <dependency>
         <groupId>org.apache.axis2</groupId>
         <artifactId>axis2</artifactId>
         <version>${axis2.version}</version>
      </dependency>

      <dependency>
         <groupId>org.apache.axis2</groupId>
         <artifactId>axis2-adb</artifactId>
         <version>${axis2.version}</version>
         <exclusions>
            <exclusion>
               <groupId>javax.servlet</groupId>
               <artifactId>servlet-api</artifactId>
            </exclusion>
         </exclusions>
      </dependency>

      <dependency>
         <groupId>org.apache.axis2</groupId>
         <artifactId>axis2-transport-local</artifactId>
         <version>${axis2.version}</version>
      </dependency>

      <dependency>
         <groupId>org.apache.axis2</groupId>
         <artifactId>axis2-transport-http</artifactId>
         <version>${axis2.version}</version>
      </dependency>


      <!-- Apache commons -->
      <dependency>
         <groupId>commons-configuration</groupId>
         <artifactId>commons-configuration</artifactId>
         <version>${apache.commons-configuration.version}</version>
         <exclusions>

            <exclusion>
               <groupId>commons-lang</groupId>
               <artifactId>commons-lang</artifactId>
            </exclusion>

         </exclusions>

      </dependency>

      <dependency>
         <groupId>commons-lang</groupId>
         <artifactId>commons-lang</artifactId>
         <version>${apache.commons-lang.version}</version>
      </dependency>

      <dependency>
         <groupId>commons-codec</groupId>
         <artifactId>commons-codec</artifactId>
         <version>${apache.commons-codec.version}</version>
      </dependency>

      <dependency>
         <groupId>commons-io</groupId>
         <artifactId>commons-io</artifactId>
         <version>${apache.commons-io.version}</version>
      </dependency>

      <!-- APACHE RAMPART -->
      <dependency>
         <groupId>org.apache.rampart</groupId>
         <artifactId>rampart-core</artifactId>
         <version>1.6.1</version>
         <exclusions>

            <exclusion>
               <groupId>commons-lang</groupId>
               <artifactId>commons-lang</artifactId>
            </exclusion>

            <exclusion>
               <groupId>org.slf4j</groupId>
               <artifactId>slf4j-api</artifactId>
            </exclusion>

            <exclusion>
               <groupId>org.slf4j</groupId>
               <artifactId>slf4j-jdk14</artifactId>
            </exclusion>

            <exclusion>
               <groupId>org.slf4j</groupId>
               <artifactId>log4j-over-slf4j</artifactId>
            </exclusion>

            <exclusion>
               <groupId>org.slf4j</groupId>
               <artifactId>jcl-over-slf4j</artifactId>
            </exclusion>
            
         </exclusions>
      </dependency>


      <!-- SPRING -->

      <dependency>
         <groupId>org.springframework</groupId>
         <artifactId>spring-beans</artifactId>
         <version>${spring.framework.version}</version>
      </dependency>

      <dependency>
         <groupId>org.springframework</groupId>
         <artifactId>spring-context</artifactId>
         <version>${spring.framework.version}</version>
      </dependency>

      <dependency>
         <groupId>org.springframework</groupId>
         <artifactId>spring-test</artifactId>
         <version>${spring.framework.version}</version>
         <scope>test</scope>
      </dependency>

      <dependency>
         <groupId>org.springframework</groupId>
         <artifactId>spring-webmvc</artifactId>
         <version>${spring.framework.version}</version>
      </dependency>


      <!-- Validation JSR 303 -->
      <dependency>
         <groupId>javax.validation</groupId>
         <artifactId>validation-api</artifactId>
         <version>${jsr303.api.version}</version>
      </dependency>
      <dependency>
         <groupId>org.hibernate</groupId>
         <artifactId>hibernate-validator</artifactId>
         <version>${jsr303.impl.hibernate.version}</version>
         <exclusions>
            <exclusion>
               <groupId>org.slf4j</groupId>
               <artifactId>slf4j-api</artifactId>
            </exclusion>
         </exclusions>

      </dependency>

      <dependency>
         <groupId>cglib</groupId>
         <artifactId>cglib</artifactId>
         <version>2.2.2</version>
      </dependency>


      <!-- Joda time -->
      <dependency>
         <groupId>joda-time</groupId>
         <artifactId>joda-time</artifactId>
         <version>${joda-time.version}</version>
         <scope>runtime</scope>
      </dependency>
      <dependency>
         <groupId>joda-time</groupId>
         <artifactId>joda-time-jsptags</artifactId>
         <version>${joda-time.jsptags.version}</version>
         <scope>runtime</scope>
      </dependency>

      <!-- Servlet et JSTL -->
      <dependency>
         <groupId>javax.servlet</groupId>
         <artifactId>servlet-api</artifactId>
         <version>${javax.servlet.version}</version>
         <scope>provided</scope>
      </dependency>
      <dependency>
         <groupId>jstl</groupId>
         <artifactId>jstl</artifactId>
         <version>${jstl.version}</version>
      </dependency>

      <!-- Vues JSON -->
      <dependency>
         <groupId>org.codehaus.jackson</groupId>
         <artifactId>jackson-mapper-asl</artifactId>
         <version>${jackson-json.version}</version>
      </dependency>


      <!-- Taglibs -->
      <!--
         <dependency> <groupId>javax.servlet</groupId>
         <artifactId>jsp-api</artifactId> <version>2.0</version>
         <scope>provided</scope> </dependency>
      -->


      <!-- Logback -->
      <dependency>
         <groupId>org.slf4j</groupId>
         <artifactId>slf4j-api</artifactId>
         <version>${org.slf4j.version}</version>
      </dependency>
      <dependency>
         <groupId>ch.qos.logback</groupId>
         <artifactId>logback-classic</artifactId>
         <version>${logback.version}</version>
      </dependency>

   </dependencies>

</project>
