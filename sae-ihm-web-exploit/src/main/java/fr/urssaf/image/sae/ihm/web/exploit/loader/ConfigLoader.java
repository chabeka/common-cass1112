package fr.urssaf.image.sae.ihm.web.exploit.loader;

import java.io.File;
import java.io.FileNotFoundException;

import org.springframework.beans.factory.annotation.Autowired;

import fr.urssaf.image.sae.ihm.web.exploit.modele.ConfigurationsEnvironnement;
import fr.urssaf.image.sae.ihm.web.exploit.modele.ConfigurationsEnvironnementFrontal;
import fr.urssaf.image.sae.ihm.web.exploit.modele.Droits;
import fr.urssaf.image.sae.ihm.web.exploit.service.ConfigurationService;
import fr.urssaf.image.sae.ihm.web.exploit.service.DroitsService;

/**
 * Classe permettant le chargement de classes specifiques
 * 
 * 
 */
public class ConfigLoader {

   /**
    * Service permettant de realiser le chargement des droits
    */
   private final DroitsService droitsService;

   /**
    * Service permettant de realiser le chargement des differentes
    * configurations
    */
   private final ConfigurationService configService;


   /**
    * Constructeur
    * 
    * @param droitsService
    *          Service permettant de realiser le chargement des droits
    * @param configService
    *          Service permettant de realiser le chargement des differentes
    *          configurations
    */
   @Autowired
   public ConfigLoader(final DroitsService droitsService,
         final ConfigurationService configService) {
      this.droitsService = droitsService;
      this.configService = configService;
   }

   /**
    * Renvoie la liste de tous les droits
    * 
    * @param fichier
    *           Fichier contenant la liste des droits
    * 
    * @return Liste de toutes les configurations des droits
    * @throws FileNotFoundException
    *            Exception generee si le fichier n'existe pas
    */
   public final Droits creerDroits(final File fichier) throws FileNotFoundException {
      return droitsService.charger(fichier);
   }

   /**
    * Renvoie la liste de toutes les configurations d'environnements (CASSANDRA
    * et services Web)
    * 
    * @param fichier
    *           Fichier contenant le liste des configurations frontaux
    * 
    * @return Liste de toutes les configurations environnement (CASSANDRA et
    *         services Web)
    * @throws FileNotFoundException
    *            Exception generee si le fichier n'existe pas
    */
   public final ConfigurationsEnvironnement creerConfiguration(final File fichier)
         throws FileNotFoundException {
      return configService.chargerConfiguration(fichier);
   }

   /**
    * Revoie la liste de config des frontaux
    * @param fichier
    * @return
    * @throws FileNotFoundException
    */
   public final ConfigurationsEnvironnementFrontal creerConfigurationFrontaux(final File fichier)
         throws FileNotFoundException {
      return configService.chargerConfigurationFrontaux(fichier);
   }

}
