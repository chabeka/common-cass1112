package fr.urssaf.image.sae.ihm.web.exploit.service;

import java.util.List;
import java.util.UUID;

import fr.urssaf.image.sae.ihm.web.exploit.exception.AucunDocumentException;
import fr.urssaf.image.sae.ihm.web.exploit.exception.ErreurTechniqueException;
import fr.urssaf.image.sae.ihm.web.exploit.modele.SaeDocument;
import fr.urssaf.image.sae.ihm.web.exploit.modele.SaeResultatRecherche;

/**
 * Ce service permet de realiser des opérations de recherche sur un ou plusieurs
 * document
 * 
 */
public interface RechercherService {

   /**
    * Renvoie la liste des documents satisfaisants à la requête lucène passée en
    * paramètre
    * 
    * @param requeteLucene
    *           Requête permettant de déterminer quels sont les documents à
    *           renvoyer
    * @param codes
    *           Liste des codes de métadonnées voulues à l'affichage
    * @param urlServiceWeb
    *           L'url du service WEB de la configuration choisie
    * 
    * @return Informations sur les documents satisfaisant à la requête lucène
    * 
    * @throws ErreurTechniqueException
    *            Exception levée lors d'une erreur technique
    * @throws AucunDocumentException
    *            Exception levée lorsque la requête ne renvoie aucun document
    */
   SaeResultatRecherche rechercherDocuments(String requeteLucene,
         List<String> codes, String urlServiceWeb)
         throws ErreurTechniqueException, AucunDocumentException;

   /**
    * Renvoie le document associé à l'uuid passé en paramètre
    * 
    * @param uuid
    *           Identifiant unique du document à chercher
    * @param codes
    *           Liste des codes de métadonnées voulues à l'affichage
    * 
    * @return Document recherché
    * 
    * @throws AucunDocumentException
    *            Exception levée lorsqu'aucun document n'est trouvé
    * @throws ErreurTechniqueException
    *            Exception levée lors d'une erreur technique
    */
   SaeDocument consulterDocument(UUID uuid, List<String> codes)
         throws AucunDocumentException, ErreurTechniqueException;

}
