/**
 * 
 */
package fr.urssaf.image.sae.ihm.web.exploit.service;

import java.util.List;
import java.util.UUID;

import me.prettyprint.hector.api.Keyspace;
import fr.urssaf.image.sae.ihm.web.exploit.exception.AucunJobException;
import fr.urssaf.image.sae.ihm.web.exploit.exception.MiseAJourJobException;
import fr.urssaf.image.sae.pile.travaux.model.JobRequest;

/**
 * Ce service permet de réaliser des opérations sur la pile de travaux
 * 
 */
public interface GererPileService {

   /**
    * Renvoit la liste de tous les travaux actuellement dans la pile
    * 
    * @param keyspace
    *           keyspace de la configuration choisie
    * @return Liste de tous les travaux actuellement dans la pile
    */
   List<JobRequest> rechercherTousTravaux(Keyspace keyspace);

   /**
    * Supprime le travail dont l'identifiant est passé en paramètre
    * 
    * @param uuid
    *           Identifiant unique du travail à supprimer
    * @param keyspace
    *           keyspace de la configuration choisie
    * @throws AucunJobException
    *            Exception levée lorsque le travail à supprimer n'existe pas
    * @throws MiseAJourJobException
    *            Exception levée lorsque le travail ne satisfait pas aux
    *            conditions de suppression
    */
   void supprimerTravail(UUID uuid, Keyspace keyspace)
         throws AucunJobException, MiseAJourJobException;

   /**
    * Mise à jour du travail afin que celui-ci soit en état d'être relancé par
    * l'odonnanceur
    * 
    * @param uuid
    *           Identifiant unique du travail à mettre à jour
    * @param keyspace
    *           keyspace de la configuration choisie
    * 
    * @throws AucunJobException
    *            Exception levée lorsque le travail à supprimer n'existe pas
    * @throws MiseAJourJobException
    *            Exception levée lorsque le travail ne satisfait pas aux
    *            conditions de suppression
    */
   void remettreTravailEtatLancement(UUID uuid, Keyspace keyspace)
         throws AucunJobException, MiseAJourJobException;
}
