<?xml version="1.0" encoding="UTF-8"?>
<assembly
   xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0 http://maven.apache.org/xsd/assembly-1.1.0.xsd">

   <id>zip</id>

   <formats>
      <format>zip</format>
   </formats>

   <includeBaseDirectory>false</includeBaseDirectory>

   <fileSets>

      <fileSet>
         <directory>src/config/</directory>
         <includes>
            <include>ecdesources.xml</include>
         </includes>
         <outputDirectory />
      </fileSet>

      <fileSet>
         <directory>src/config/</directory>
         <includes>
            <include>logback-sae-lotinstallmaj.xml</include>
         </includes>
         <outputDirectory>sae-lotinstallmaj</outputDirectory>
      </fileSet>

      <fileSet>
         <directory>src/config/</directory>
         <includes>
            <include>logback-sae-ordonnanceur.xml</include>
         </includes>
         <outputDirectory>sae-ordonnanceur</outputDirectory>
      </fileSet>

      <fileSet>
         <directory>src/config/</directory>
         <includes>
            <include>sae-dfce-config.properties</include>
         </includes>
         <outputDirectory />
      </fileSet>

      <fileSet>
         <directory>src/config/</directory>
         <includes>
            <include>sae-config.properties</include>
         </includes>
         <outputDirectory />
      </fileSet>

      <fileSet>
         <directory>src/pki/</directory>
         <includes>
            <include>pseudo_IGCA.crt</include>
         </includes>
         <outputDirectory />
      </fileSet>

      <fileSet>
         <directory>src/scripts/</directory>
         <includes>
            <include>sae-ordonnanceur.sh</include>
         </includes>
         <outputDirectory>sae-ordonnanceur</outputDirectory>
      </fileSet>

      <fileSet>
         <directory>src/config/</directory>
         <includes>
            <include>sae-cassandra-config.properties</include>
         </includes>
         <outputDirectory />
      </fileSet>

   </fileSets>

   <files>
   
      <!-- Le Tar GZ précédemment crée -->
      <file>
         <source>target/commons-assembly-exemple-${version}-data_sae.tar.gz</source>
         <outputDirectory />
         <destName>data_sae.tar.gz</destName>
      </file>

   </files>

   <dependencySets>
   
      <dependencySet>
         <includes>
            <include>fr.urssaf.image.sae:sae-ordonnanceur</include>
         </includes>
         <outputDirectory>sae-ordonnanceur</outputDirectory>
         <unpack>false</unpack>
         <outputFileNameMapping>sae-ordonnanceur.jar</outputFileNameMapping>
      </dependencySet>
      
      <dependencySet>
         <includes>
            <include>fr.urssaf.image.sae:sae-lotinstallmaj</include>
         </includes>
         <outputDirectory>sae-lotinstallmaj</outputDirectory>
         <unpack>false</unpack>
         <outputFileNameMapping>sae-lotinstallmaj.jar</outputFileNameMapping>
      </dependencySet>

      <dependencySet>
         <includes>
            <include>fr.urssaf.image.sae:sae-webservices</include>
         </includes>
         <outputDirectory />
         <unpack>false</unpack>
         <outputFileNameMapping>sae.war</outputFileNameMapping>
      </dependencySet>
      
      <dependencySet>
         <includes>
            <include>fr.urssaf.image.sae:sae-igcmaj</include>
         </includes>
         <outputDirectory />
         <unpack>false</unpack>
         <outputFileNameMapping>sae-igcmaj-exe.jar</outputFileNameMapping>
      </dependencySet>
      
   </dependencySets>

</assembly>