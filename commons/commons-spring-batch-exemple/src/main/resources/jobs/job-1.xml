<?xml version="1.0" encoding="UTF-8"?>
<beans:beans xmlns="http://www.springframework.org/schema/batch"
   xmlns:beans="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="
         http://www.springframework.org/schema/beans
         http://www.springframework.org/schema/beans/spring-beans.xsd
         http://www.springframework.org/schema/batch
         http://www.springframework.org/schema/batch/spring-batch-2.1.xsd">


   <job id="job1">

      <step id="XMLtoFile">
         <tasklet>
            <chunk reader="xmlReader" writer="fileWriter"
               processor="conversionToFileProcessor" commit-interval="1" />
         </tasklet>

         <next on="*" to="success" />
         <next on="FAILED" to="failure" />

         <listeners>
            <listener ref="logListener" />
         </listeners>

      </step>

      <step id="success">

         <tasklet ref="successTask" />
         <end on="COMPLETED" />

      </step>

      <step id="failure">

         <tasklet ref="failureTask" />
         <fail on="*" />

      </step>

      <listeners>
         <listener ref="jobListener" />
      </listeners>

      <validator ref="job1ParametersValidator" />

   </job>

</beans:beans>
